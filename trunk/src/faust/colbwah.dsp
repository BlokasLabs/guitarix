// generated automatically
// DO NOT MODIFY!
declare id "colbwah";
declare name "ColorSound Bass Wah";
declare category "Guitar Effects";
declare shortname "ColorSound Bass Wah";
declare description "ColorSound Bass Wah";

import("filter.lib");
import("effect.lib");
import("oscillator.lib");
import("guitarix.lib");

process(x) = x : _<:*(dry),(*(wet) : pre : iir((b0/a0,b1/a0,b2/a0,b3/a0,b4/a0,b5/a0,b6/a0),(a1/a0,a2/a0,a3/a0,a4/a0,a5/a0,a6/a0))):>_ with {
    LogPot(a, x) = if(a, (exp(a * x) - 1) / (exp(a) - 1), x);
    Inverted(b, x) = if(b, 1 - x, x);
    s = 0.993;
    fs = float(SR);
    wet = wah_ctrl.wet_dry;
    dry = 1 - wet;
    pre = dcblocker;


    Wah1 = (x : amp_follower_ud(0.01,0.1) : min(1) : max(0.02) );

    Wah2 = wah_ctrl.wah : max(0.01) : Inverted(1) : LogPot(5) : smooth(s);
 
    sl = wah_ctrl.mode;

    Wah3 = (oscs(freq) + 1) / 2 : min(0.98) : max(0.02) : Inverted(1) with {
        freq = wah_ctrl.freq;
    }; 

    Wah = select3(sl, Wah2, Wah1, Wah3);
   
    b0 = Wah*(Wah*pow(fs,3)*(fs*(fs*(3.57243824546669e-31*fs + 1.37637472602693e-27) + 1.85927205363659e-24) + 6.0094838984169e-23) + pow(fs,2)*(fs*(fs*(fs*(-3.53518073709224e-31*fs - 1.36792607610923e-27) - 1.86661570683084e-24) - 9.93106205417573e-23) - 1.29076961689941e-21)) + pow(fs,2)*(fs*(fs*(fs*(-1.14716409074831e-30*fs - 5.48068554114285e-27) - 8.36956063273783e-24) - 3.13750854883691e-22) - 1.40656097775947e-21);

    b1 = Wah*(Wah*pow(fs,4)*(fs*(-2.14346294728002e-30*fs - 5.50549890410771e-27) - 3.71854410727317e-24) + pow(fs,2)*(pow(fs,2)*(fs*(2.12110844225534e-30*fs + 5.47170430443692e-27) + 3.73323141366167e-24) - 2.58153923379881e-21)) + pow(fs,2)*(pow(fs,2)*(fs*(6.88298454448983e-30*fs + 2.19227421645714e-26) + 1.67391212654757e-23) - 2.81312195551893e-21);

    b2 = Wah*(Wah*pow(fs,3)*(fs*(fs*(5.35865736820004e-30*fs + 6.88187363013463e-27) - 1.85927205363659e-24) - 1.80284516952507e-22) + pow(fs,2)*(fs*(fs*(fs*(-5.30277110563835e-30*fs - 6.83963038054615e-27) + 1.86661570683084e-24) + 2.97931861625272e-22) + 1.29076961689941e-21)) + pow(fs,2)*(fs*(fs*(fs*(-1.72074613612246e-29*fs - 2.74034277057142e-26) + 8.36956063273783e-24) + 9.41252564651073e-22) + 1.40656097775947e-21);

    b3 = Wah*(Wah*pow(fs,4)*(-7.14487649093339e-30*pow(fs,2) + 7.43708821454634e-24) + pow(fs,2)*(pow(fs,2)*(7.07036147418447e-30*pow(fs,2) - 7.46646282732335e-24) + 5.16307846759763e-21)) + pow(fs,2)*(pow(fs,2)*(2.29432818149661e-29*pow(fs,2) - 3.34782425309513e-23) + 5.62624391103787e-21);

    b4 = Wah*(Wah*pow(fs,3)*(fs*(fs*(5.35865736820004e-30*fs - 6.88187363013463e-27) - 1.85927205363659e-24) + 1.80284516952507e-22) + pow(fs,2)*(fs*(fs*(fs*(-5.30277110563835e-30*fs + 6.83963038054615e-27) + 1.86661570683084e-24) - 2.97931861625272e-22) + 1.29076961689941e-21)) + pow(fs,2)*(fs*(fs*(fs*(-1.72074613612246e-29*fs + 2.74034277057142e-26) + 8.36956063273783e-24) - 9.41252564651073e-22) + 1.40656097775947e-21);

    b5 = Wah*(Wah*pow(fs,4)*(fs*(-2.14346294728002e-30*fs + 5.50549890410771e-27) - 3.71854410727317e-24) + pow(fs,2)*(pow(fs,2)*(fs*(2.12110844225534e-30*fs - 5.47170430443692e-27) + 3.73323141366167e-24) - 2.58153923379881e-21)) + pow(fs,2)*(pow(fs,2)*(fs*(6.88298454448983e-30*fs - 2.19227421645714e-26) + 1.67391212654757e-23) - 2.81312195551893e-21);

    b6 = Wah*(Wah*pow(fs,3)*(fs*(fs*(3.57243824546669e-31*fs - 1.37637472602693e-27) + 1.85927205363659e-24) - 6.0094838984169e-23) + pow(fs,2)*(fs*(fs*(fs*(-3.53518073709224e-31*fs + 1.36792607610923e-27) - 1.86661570683084e-24) + 9.93106205417573e-23) - 1.29076961689941e-21)) + pow(fs,2)*(fs*(fs*(fs*(-1.14716409074831e-30*fs + 5.48068554114285e-27) - 8.36956063273783e-24) + 3.13750854883691e-22) - 1.40656097775947e-21);

    a0 = Wah*(Wah*fs*(fs*(fs*(fs*(fs*(-2.99605330502527e-29*fs - 1.73141762485697e-26) - 4.13170439634509e-24) - 1.53438894633014e-21) - 2.96109822935368e-20) - 1.51777975407542e-19) + fs*(fs*(fs*(fs*(fs*(1.7091302142831e-28*fs + 9.70310455902874e-26) + 1.55928165911418e-23) + 5.01959590405437e-21) + 6.18293080646267e-20) + 4.56867037085326e-19)) + fs*(fs*(fs*(fs*(fs*(2.81471278631794e-30*fs + 2.58008433630295e-27) + 8.76020695770787e-24) + 4.45731355498812e-21) + 2.10368870184462e-19) + 3.49321549484182e-18) + 1.05586147569038e-17;

    a1 = Wah*(Wah*fs*(fs*(pow(fs,2)*(fs*(1.79763198301516e-28*fs + 6.92567049942789e-26) + 8.26340879269018e-24) - 5.92219645870735e-20) - 6.07111901630169e-19) + fs*(fs*(pow(fs,2)*(fs*(-1.02547812856986e-27*fs - 3.8812418236115e-25) - 3.11856331822835e-23) + 1.23658616129253e-19) + 1.8274681483413e-18)) + fs*(fs*(pow(fs,2)*(fs*(-1.68882767179076e-29*fs - 1.03203373452118e-26) - 1.75204139154157e-23) + 4.20737740368924e-19) + 1.39728619793673e-17) + 6.3351688541423e-17;

    a2 = Wah*(Wah*fs*(fs*(fs*(fs*(fs*(-4.4940799575379e-28*fs - 8.65708812428486e-26) + 4.13170439634509e-24) + 4.60316683899041e-21) + 2.96109822935368e-20) - 7.58889877037711e-19) + fs*(fs*(fs*(fs*(fs*(2.56369532142465e-27*fs + 4.85155227951437e-25) - 1.55928165911418e-23) - 1.50587877121631e-20) - 6.18293080646267e-20) + 2.28433518542663e-18)) + fs*(fs*(fs*(fs*(fs*(4.22206917947691e-29*fs + 1.29004216815147e-26) - 8.76020695770787e-24) - 1.33719406649643e-20) - 2.10368870184462e-19) + 1.74660774742091e-17) + 1.58379221353557e-16;

    a3 = Wah*(Wah*pow(fs,2)*(pow(fs,2)*(5.99210661005054e-28*pow(fs,2) - 1.65268175853804e-23) + 1.18443929174147e-19) + pow(fs,2)*(pow(fs,2)*(-3.4182604285662e-27*pow(fs,2) + 6.23712663645671e-23) - 2.47317232258507e-19)) + pow(fs,2)*(pow(fs,2)*(-5.62942557263588e-29*pow(fs,2) + 3.50408278308315e-23) - 8.41475480737849e-19) + 2.11172295138077e-16;

    a4 = Wah*(Wah*fs*(fs*(fs*(fs*(fs*(-4.4940799575379e-28*fs + 8.65708812428486e-26) + 4.13170439634509e-24) - 4.60316683899041e-21) + 2.96109822935368e-20) + 7.58889877037711e-19) + fs*(fs*(fs*(fs*(fs*(2.56369532142465e-27*fs - 4.85155227951437e-25) - 1.55928165911418e-23) + 1.50587877121631e-20) - 6.18293080646267e-20) - 2.28433518542663e-18)) + fs*(fs*(fs*(fs*(fs*(4.22206917947691e-29*fs - 1.29004216815147e-26) - 8.76020695770787e-24) + 1.33719406649643e-20) - 2.10368870184462e-19) - 1.74660774742091e-17) + 1.58379221353557e-16;

    a5 = Wah*(Wah*fs*(fs*(pow(fs,2)*(fs*(1.79763198301516e-28*fs - 6.92567049942789e-26) + 8.26340879269018e-24) - 5.92219645870735e-20) + 6.07111901630169e-19) + fs*(fs*(pow(fs,2)*(fs*(-1.02547812856986e-27*fs + 3.8812418236115e-25) - 3.11856331822835e-23) + 1.23658616129253e-19) - 1.8274681483413e-18)) + fs*(fs*(pow(fs,2)*(fs*(-1.68882767179076e-29*fs + 1.03203373452118e-26) - 1.75204139154157e-23) + 4.20737740368924e-19) - 1.39728619793673e-17) + 6.3351688541423e-17;

    a6 = Wah*(Wah*fs*(fs*(fs*(fs*(fs*(-2.99605330502527e-29*fs + 1.73141762485697e-26) - 4.13170439634509e-24) + 1.53438894633014e-21) - 2.96109822935368e-20) + 1.51777975407542e-19) + fs*(fs*(fs*(fs*(fs*(1.7091302142831e-28*fs - 9.70310455902874e-26) + 1.55928165911418e-23) - 5.01959590405437e-21) + 6.18293080646267e-20) - 4.56867037085326e-19)) + fs*(fs*(fs*(fs*(fs*(2.81471278631794e-30*fs - 2.58008433630295e-27) + 8.76020695770787e-24) - 4.45731355498812e-21) + 2.10368870184462e-19) - 3.49321549484182e-18) + 1.05586147569038e-17;
};

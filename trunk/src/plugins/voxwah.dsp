// generated automatically
// DO NOT MODIFY!
declare id "voxwah";
declare name "Vox Wah V847";
declare category "Guitar Effects";
declare shortname "Vox Wah";
declare description "Vox Wah V847";

import("filter.lib");
import("effect.lib");
import("oscillator.lib");

process(x) = x : _<:*(dry),(*(wet) : iir((b0/a0,b1/a0,b2/a0,b3/a0,b4/a0,b5/a0,b6/a0),(a1/a0,a2/a0,a3/a0,a4/a0,a5/a0,a6/a0))):>_ with {
    LogPot(a, x) = if(a, (exp(a * x) - 1) / (exp(a) - 1), x);
    Inverted(b, x) = if(b, 1 - x, x);
    s = 0.993;
    fs = float(SR);
    
    wet = vslider("wet_dry[name:wet/dry][tooltip:percentage of processed signal in output signal]",  100, 0, 100, 1) : /(100);
    dry = 1 - wet;

    Wah1 = (x : amp_follower_ud(0.01,0.1) : min(1) : max(0.02) );
    
    Wah2 = vslider("Wah[name:Wah]", 0.5, 0.02, 1, 0.01) : Inverted(0) : LogPot(0) : smooth(s);
    
    sl = vslider("mode[enum:manual|auto|alien]",0,0,1,1);

    Wah3 = (oscs(freq) + 1) / 2 : min(1) : max(0.02) with {
        freq = vslider("lfobpm[name:Alien Freq][tooltip:LFO in Beats per Minute]",24,24,360,1)/60;
    }; 

    Wah = select3(sl, Wah1, Wah2, Wah3);

    b0 = Wah*(Wah*pow(fs,3)*(fs*(fs*(5.3581264088071e-31*fs + 1.48874673815095e-26) + 2.20774629012815e-23) + 1.52372411622765e-21) + pow(fs,2)*(fs*(fs*(fs*(-5.35111910191404e-31*fs - 1.48995539050572e-26) - 2.24831652271913e-23) - 2.13084338459394e-21) - 4.19202946447508e-20)) + pow(fs,2)*(fs*(fs*(fs*(-3.23177789600593e-30*fs - 1.07008772095285e-25) - 1.60626322047249e-22) - 1.19105605913141e-20) - 5.93495580034508e-20);

    b1 = Wah*(Wah*pow(fs,4)*(fs*(-3.21487584528426e-30*fs - 5.95498695260382e-26) - 4.4154925802563e-23) + pow(fs,2)*(pow(fs,2)*(fs*(3.21067146114843e-30*fs + 5.9598215620229e-26) + 4.49663304543827e-23) - 8.38405892895015e-20)) + pow(fs,2)*(pow(fs,2)*(fs*(1.93906673760356e-29*fs + 4.28035088381142e-25) + 3.21252644094498e-22) - 1.18699116006902e-19);

    b2 = Wah*(Wah*pow(fs,3)*(fs*(fs*(8.03718961321065e-30*fs + 7.44373369075477e-26) - 2.20774629012815e-23) - 4.57117234868296e-21) + pow(fs,2)*(fs*(fs*(fs*(-8.02667865287107e-30*fs - 7.44977695252862e-26) + 2.24831652271913e-23) + 6.39253015378182e-21) + 4.19202946447508e-20)) + pow(fs,2)*(fs*(fs*(fs*(-4.8476668440089e-29*fs - 5.35043860476427e-25) + 1.60626322047249e-22) + 3.57316817739422e-20) + 5.93495580034508e-20);

    b3 = Wah*(Wah*pow(fs,4)*(-1.07162528176142e-29*pow(fs,2) + 8.83098516051261e-23) + pow(fs,2)*(pow(fs,2)*(1.07022382038281e-29*pow(fs,2) - 8.99326609087654e-23) + 1.67681178579003e-19)) + pow(fs,2)*(pow(fs,2)*(6.46355579201187e-29*pow(fs,2) - 6.42505288188996e-22) + 2.37398232013803e-19);

    b4 = Wah*(Wah*pow(fs,3)*(fs*(fs*(8.03718961321065e-30*fs - 7.44373369075477e-26) - 2.20774629012815e-23) + 4.57117234868296e-21) + pow(fs,2)*(fs*(fs*(fs*(-8.02667865287107e-30*fs + 7.44977695252862e-26) + 2.24831652271913e-23) - 6.39253015378182e-21) + 4.19202946447508e-20)) + pow(fs,2)*(fs*(fs*(fs*(-4.8476668440089e-29*fs + 5.35043860476427e-25) + 1.60626322047249e-22) - 3.57316817739422e-20) + 5.93495580034508e-20);

    b5 = Wah*(Wah*pow(fs,4)*(fs*(-3.21487584528426e-30*fs + 5.95498695260382e-26) - 4.4154925802563e-23) + pow(fs,2)*(pow(fs,2)*(fs*(3.21067146114843e-30*fs - 5.9598215620229e-26) + 4.49663304543827e-23) - 8.38405892895015e-20)) + pow(fs,2)*(pow(fs,2)*(fs*(1.93906673760356e-29*fs - 4.28035088381142e-25) + 3.21252644094498e-22) - 1.18699116006902e-19);

    b6 = Wah*(Wah*pow(fs,3)*(fs*(fs*(5.3581264088071e-31*fs - 1.48874673815095e-26) + 2.20774629012815e-23) - 1.52372411622765e-21) + pow(fs,2)*(fs*(fs*(fs*(-5.35111910191404e-31*fs + 1.48995539050572e-26) - 2.24831652271913e-23) + 2.13084338459394e-21) - 4.19202946447508e-20)) + pow(fs,2)*(fs*(fs*(fs*(-3.23177789600593e-30*fs + 1.07008772095285e-25) - 1.60626322047249e-22) + 1.19105605913141e-20) - 5.93495580034508e-20);

    a0 = Wah*(Wah*pow(fs,2)*(fs*(fs*(fs*(-1.89633819957818e-29*fs - 1.67389657230137e-26) - 3.3280358276443e-23) - 2.30098055446033e-20) - 1.88953692908276e-19) + fs*(fs*(fs*(fs*(fs*(1.26707994816449e-28*fs + 1.03160559927227e-25) + 4.29512485115259e-23) + 2.71579433571679e-20) + 8.35300656600375e-19) + 5.36800263943966e-18)) + fs*(fs*(fs*(fs*(fs*(2.1399304623982e-29*fs + 3.04570433260508e-26) + 2.76955826240888e-22) + 2.02121260151633e-19) + 6.14367881980831e-18) + 5.69239039885932e-17) + 1.52500074984081e-16;

    a1 = Wah*(Wah*pow(fs,2)*(pow(fs,2)*(fs*(1.13780291974691e-28*fs + 6.69558628920547e-26) + 6.6560716552886e-23) - 3.77907385816552e-19) + fs*(fs*(pow(fs,2)*(fs*(-7.60247968898691e-28*fs - 4.1264223970891e-25) - 8.59024970230518e-23) + 1.67060131320075e-18) + 2.14720105577586e-17)) + fs*(fs*(pow(fs,2)*(fs*(-1.28395827743892e-28*fs - 1.21828173304203e-25) - 5.53911652481776e-22) + 1.22873576396166e-17) + 2.27695615954373e-16) + 9.15000449904488e-16;

    a2 = Wah*(Wah*pow(fs,2)*(fs*(fs*(fs*(-2.84450729936727e-28*fs - 8.36948286150684e-26) + 3.3280358276443e-23) + 6.902941663381e-20) + 1.88953692908276e-19) + fs*(fs*(fs*(fs*(fs*(1.90061992224673e-27*fs + 5.15802799636137e-25) - 4.29512485115259e-23) - 8.14738300715037e-20) - 8.35300656600375e-19) + 2.68400131971983e-17)) + fs*(fs*(fs*(fs*(fs*(3.20989569359729e-28*fs + 1.52285216630254e-25) - 2.76955826240888e-22) - 6.06363780454899e-19) - 6.14367881980831e-18) + 2.84619519942966e-16) + 2.28750112476122e-15;

    a3 = Wah*(Wah*pow(fs,2)*(pow(fs,2)*(3.79267639915636e-28*pow(fs,2) - 1.33121433105772e-22) + 7.55814771633104e-19) + pow(fs,2)*(pow(fs,2)*(-2.53415989632897e-27*pow(fs,2) + 1.71804994046104e-22) - 3.3412026264015e-18)) + pow(fs,2)*(pow(fs,2)*(-4.27986092479639e-28*pow(fs,2) + 1.10782330496355e-21) - 2.45747152792332e-17) + 3.05000149968163e-15;

    a4 = Wah*(Wah*pow(fs,2)*(fs*(fs*(fs*(-2.84450729936727e-28*fs + 8.36948286150684e-26) + 3.3280358276443e-23) - 6.902941663381e-20) + 1.88953692908276e-19) + fs*(fs*(fs*(fs*(fs*(1.90061992224673e-27*fs - 5.15802799636137e-25) - 4.29512485115259e-23) + 8.14738300715037e-20) - 8.35300656600375e-19) - 2.68400131971983e-17)) + fs*(fs*(fs*(fs*(fs*(3.20989569359729e-28*fs - 1.52285216630254e-25) - 2.76955826240888e-22) + 6.06363780454899e-19) - 6.14367881980831e-18) - 2.84619519942966e-16) + 2.28750112476122e-15;

    a5 = Wah*(Wah*pow(fs,2)*(pow(fs,2)*(fs*(1.13780291974691e-28*fs - 6.69558628920547e-26) + 6.6560716552886e-23) - 3.77907385816552e-19) + fs*(fs*(pow(fs,2)*(fs*(-7.60247968898691e-28*fs + 4.1264223970891e-25) - 8.59024970230518e-23) + 1.67060131320075e-18) - 2.14720105577586e-17)) + fs*(fs*(pow(fs,2)*(fs*(-1.28395827743892e-28*fs + 1.21828173304203e-25) - 5.53911652481776e-22) + 1.22873576396166e-17) - 2.27695615954373e-16) + 9.15000449904488e-16;

    a6 = Wah*(Wah*pow(fs,2)*(fs*(fs*(fs*(-1.89633819957818e-29*fs + 1.67389657230137e-26) - 3.3280358276443e-23) + 2.30098055446033e-20) - 1.88953692908276e-19) + fs*(fs*(fs*(fs*(fs*(1.26707994816449e-28*fs - 1.03160559927227e-25) + 4.29512485115259e-23) - 2.71579433571679e-20) + 8.35300656600375e-19) - 5.36800263943966e-18)) + fs*(fs*(fs*(fs*(fs*(2.1399304623982e-29*fs - 3.04570433260508e-26) + 2.76955826240888e-22) - 2.02121260151633e-19) + 6.14367881980831e-18) - 5.69239039885932e-17) + 1.52500074984081e-16;
};

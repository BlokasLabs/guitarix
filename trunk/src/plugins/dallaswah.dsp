// generated automatically
// DO NOT MODIFY!
declare id "dallaswah";
declare name "Dallas Wah";
declare category "Guitar Effects";
declare shortname "Dallas  Wah";
declare description "Dallas Arbiter Wah";

import("filter.lib");
import("effect.lib");
import("oscillator.lib");

process(x) = x  : _<:*(dry),(*(wet) : iir((b0/a0,b1/a0,b2/a0,b3/a0,b4/a0,b5/a0,b6/a0),(a1/a0,a2/a0,a3/a0,a4/a0,a5/a0,a6/a0))):>_ with {
    LogPot(a, x) = if(a, (exp(a * x) - 1) / (exp(a) - 1), x);
    Inverted(b, x) = if(b, 1 - x, x);
    s = 0.993;
    fs = float(SR);
    
    wet = vslider("wet_dry[name:wet/dry][tooltip:percentage of processed signal in output signal]",  100, 0, 100, 1) : /(100);
    dry = 1 - wet;

    Wah1 = (x : amp_follower_ud(0.01,0.1) : min(1) : max(0.02) );

    Wah2 = vslider("Wah[name:Wah]", 0.5, 0, 1, 0.01) : Inverted(1) : LogPot(1) : smooth(s);

    sl = checkbox("mode[enum:manual|auto|alien]");

    Wah3 = (oscs(freq) + 1) / 2 : min(0.98) : max(0.02) : Inverted(1) with {
        freq = vslider("lfobpm[name:Alien Freq][tooltip:LFO in Beats per Minute]",24,24,360,1)/60;
    }; 

    Wah = select3(sl, Wah2, Wah1, Wah3);

    b0 = Wah*(Wah*pow(fs,2)*(fs*(fs*(fs*(1.20894405825314e-30*fs + 4.55223559536905e-26) + 6.67221502794578e-23) + 4.60832615818034e-21) - 4.42988173510265e-34) + pow(fs,2)*(fs*(fs*(fs*(-9.90901628275927e-31*fs - 3.74994304179366e-26) - 5.59001169449057e-23) - 5.22251274319268e-21) - 9.86965379369583e-20)) + pow(fs,2)*(fs*(fs*(fs*(-2.95334143650199e-30*fs - 2.39932288230564e-25) - 3.60669905407753e-22) - 2.71762597345689e-20) - 1.62378538408517e-19);

    b1 = Wah*(Wah*pow(fs,2)*(pow(fs,2)*(fs*(-7.25366434951886e-30*fs - 1.82089423814762e-25) - 1.33444300558916e-22) - 8.85976347020531e-34) + pow(fs,2)*(pow(fs,2)*(fs*(5.94540976965556e-30*fs + 1.49997721671747e-25) + 1.11800233889811e-22) - 1.97393075873917e-19)) + pow(fs,2)*(pow(fs,2)*(fs*(1.77200486190119e-29*fs + 9.59729152922254e-25) + 7.21339810815506e-22) - 3.24757076817034e-19);

    b2 = Wah*(Wah*pow(fs,2)*(fs*(fs*(fs*(1.81341608737971e-29*fs + 2.27611779768452e-25) - 6.67221502794578e-23) - 1.3824978474541e-20) + 4.42988173510265e-34) + pow(fs,2)*(fs*(fs*(fs*(-1.48635244241389e-29*fs - 1.87497152089683e-25) + 5.59001169449057e-23) + 1.5667538229578e-20) + 9.86965379369583e-20)) + pow(fs,2)*(fs*(fs*(fs*(-4.43001215475298e-29*fs - 1.19966144115282e-24) + 3.60669905407753e-22) + 8.15287792037067e-20) + 1.62378538408517e-19);

    b3 = Wah*(Wah*pow(fs,2)*(pow(fs,2)*(-2.41788811650629e-29*pow(fs,2) + 2.66888601117831e-22) + 1.77195269404106e-33) + pow(fs,2)*(pow(fs,2)*(1.98180325655185e-29*pow(fs,2) - 2.23600467779623e-22) + 3.94786151747833e-19)) + pow(fs,2)*(pow(fs,2)*(5.90668287300397e-29*pow(fs,2) - 1.44267962163101e-21) + 6.49514153634068e-19);

    b4 = Wah*(Wah*pow(fs,2)*(fs*(fs*(fs*(1.81341608737971e-29*fs - 2.27611779768452e-25) - 6.67221502794578e-23) + 1.3824978474541e-20) + 4.42988173510265e-34) + pow(fs,2)*(fs*(fs*(fs*(-1.48635244241389e-29*fs + 1.87497152089683e-25) + 5.59001169449057e-23) - 1.5667538229578e-20) + 9.86965379369583e-20)) + pow(fs,2)*(fs*(fs*(fs*(-4.43001215475298e-29*fs + 1.19966144115282e-24) + 3.60669905407753e-22) - 8.15287792037067e-20) + 1.62378538408517e-19);

    b5 = Wah*(Wah*pow(fs,2)*(pow(fs,2)*(fs*(-7.25366434951886e-30*fs + 1.82089423814762e-25) - 1.33444300558916e-22) - 8.85976347020531e-34) + pow(fs,2)*(pow(fs,2)*(fs*(5.94540976965556e-30*fs - 1.49997721671747e-25) + 1.11800233889811e-22) - 1.97393075873917e-19)) + pow(fs,2)*(pow(fs,2)*(fs*(1.77200486190119e-29*fs - 9.59729152922254e-25) + 7.21339810815506e-22) - 3.24757076817034e-19);

    b6 = Wah*(Wah*pow(fs,2)*(fs*(fs*(fs*(1.20894405825314e-30*fs - 4.55223559536905e-26) + 6.67221502794578e-23) - 4.60832615818034e-21) - 4.42988173510265e-34) + pow(fs,2)*(fs*(fs*(fs*(-9.90901628275927e-31*fs + 3.74994304179366e-26) - 5.59001169449057e-23) + 5.22251274319268e-21) - 9.86965379369583e-20)) + pow(fs,2)*(fs*(fs*(fs*(-2.95334143650199e-30*fs + 2.39932288230564e-25) - 3.60669905407753e-22) + 2.71762597345689e-20) - 1.62378538408517e-19);

    a0 = Wah*(Wah*fs*(fs*(fs*(fs*(fs*(-1.86565797488138e-29*fs - 4.23676337082129e-26) - 1.00468221585939e-22) - 1.65639280522528e-19) - 1.59055047288262e-18) + 1.52896089528608e-31) + fs*(fs*(fs*(fs*(fs*(1.14266706841096e-28*fs + 2.27871736066328e-25) + 9.3225622428148e-23) + 1.35174012417023e-19) + 5.68607004495272e-18) + 4.25280875102305e-17) - 4.08813073605905e-30) + fs*(fs*(fs*(fs*(fs*(2.51617848419225e-29*fs + 8.09025818356709e-26) + 6.29629967279172e-22) + 1.09351207812161e-18) + 3.59986998986588e-17) + 3.6815416628337e-16) + 1.13711463931101e-15;

    a1 = Wah*(Wah*fs*(fs*(pow(fs,2)*(fs*(1.11939478492883e-28*fs + 1.69470534832851e-25) + 2.00936443171878e-22) - 3.18110094576525e-18) + 6.11584358114433e-31) + fs*(fs*(pow(fs,2)*(fs*(-6.85600241046577e-28*fs - 9.1148694426531e-25) - 1.86451244856296e-22) + 1.13721400899054e-17) + 1.70112350040922e-16) - 2.45287844163543e-29) + fs*(fs*(pow(fs,2)*(fs*(-1.50970709051535e-28*fs - 3.23610327342684e-25) - 1.25925993455834e-21) + 7.19973997973176e-17) + 1.47261666513348e-15) + 6.82268783586605e-15;

    a2 = Wah*(Wah*fs*(fs*(fs*(fs*(fs*(-2.79848696232207e-28*fs - 2.11838168541064e-25) + 1.00468221585939e-22) + 4.96917841567585e-19) + 1.59055047288262e-18) + 7.64480447643042e-31) + fs*(fs*(fs*(fs*(fs*(1.71400060261644e-27*fs + 1.13935868033164e-24) - 9.3225622428148e-23) - 4.05522037251071e-19) - 5.68607004495272e-18) + 2.12640437551152e-16) - 6.13219610408857e-29) + fs*(fs*(fs*(fs*(fs*(3.77426772628837e-28*fs + 4.04512909178355e-25) - 6.29629967279172e-22) - 3.28053623436483e-18) - 3.59986998986588e-17) + 1.84077083141685e-15) + 1.70567195896651e-14;

    a3 = Wah*(Wah*pow(fs,2)*(pow(fs,2)*(3.73131594976276e-28*pow(fs,2) - 4.01872886343757e-22) + 6.3622018915305e-18) + pow(fs,2)*(pow(fs,2)*(-2.28533413682192e-27*pow(fs,2) + 3.72902489712592e-22) - 2.27442801798109e-17) - 8.17626147211809e-29) + pow(fs,2)*(pow(fs,2)*(-5.03235696838449e-28*pow(fs,2) + 2.51851986911669e-21) - 1.43994799594635e-16) + 2.27422927862202e-14;

    a4 = Wah*(Wah*fs*(fs*(fs*(fs*(fs*(-2.79848696232207e-28*fs + 2.11838168541064e-25) + 1.00468221585939e-22) - 4.96917841567585e-19) + 1.59055047288262e-18) - 7.64480447643042e-31) + fs*(fs*(fs*(fs*(fs*(1.71400060261644e-27*fs - 1.13935868033164e-24) - 9.3225622428148e-23) + 4.05522037251071e-19) - 5.68607004495272e-18) - 2.12640437551152e-16) - 6.13219610408857e-29) + fs*(fs*(fs*(fs*(fs*(3.77426772628837e-28*fs - 4.04512909178355e-25) - 6.29629967279172e-22) + 3.28053623436483e-18) - 3.59986998986588e-17) - 1.84077083141685e-15) + 1.70567195896651e-14;

    a5 = Wah*(Wah*fs*(fs*(pow(fs,2)*(fs*(1.11939478492883e-28*fs - 1.69470534832851e-25) + 2.00936443171878e-22) - 3.18110094576525e-18) - 6.11584358114433e-31) + fs*(fs*(pow(fs,2)*(fs*(-6.85600241046577e-28*fs + 9.1148694426531e-25) - 1.86451244856296e-22) + 1.13721400899054e-17) - 1.70112350040922e-16) - 2.45287844163543e-29) + fs*(fs*(pow(fs,2)*(fs*(-1.50970709051535e-28*fs + 3.23610327342684e-25) - 1.25925993455834e-21) + 7.19973997973176e-17) - 1.47261666513348e-15) + 6.82268783586605e-15;

    a6 = Wah*(Wah*fs*(fs*(fs*(fs*(fs*(-1.86565797488138e-29*fs + 4.23676337082129e-26) - 1.00468221585939e-22) + 1.65639280522528e-19) - 1.59055047288262e-18) - 1.52896089528608e-31) + fs*(fs*(fs*(fs*(fs*(1.14266706841096e-28*fs - 2.27871736066328e-25) + 9.3225622428148e-23) - 1.35174012417023e-19) + 5.68607004495272e-18) - 4.25280875102305e-17) - 4.08813073605905e-30) + fs*(fs*(fs*(fs*(fs*(2.51617848419225e-29*fs - 8.09025818356709e-26) + 6.29629967279172e-22) - 1.09351207812161e-18) + 3.59986998986588e-17) - 3.6815416628337e-16) + 1.13711463931101e-15;
};
